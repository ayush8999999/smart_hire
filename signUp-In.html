<!DOCTYPE html>
<html lang="en">
<head>
    <title>EasyHire - Sign Up & Sign In</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="icon" href="images/logo-bg.png" type="image/png">
    <link rel="apple-touch-icon" href="images/logo-bg.png">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.3.3/build/css/intlTelInput.css">
    <style>
        :root {
            /* --primary-color: #4ea685;
            --secondary-color: #57b894; */
            --primary-color: #ffce3a;
            --secondary-color: #ffc107;
            --black: #000000;
            --white: #ffffff;
            --gray: #efefef;
            --gray-2: #757575;

            --facebook-color: #4267b2;
            --google-color: #db4437;
            --twitter-color: #1da1f2;
            --insta-color: #e1306c;
            }

            @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600&display=swap");

            * {
                font-family: "Poppins", sans-serif;
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            html,
            body {
                height: 100vh;
                overflow: hidden;
            }

            .container {
                position: relative;
                min-height: 100vh;
                overflow: hidden;
            }

            .row {
                display: flex;
                flex-wrap: wrap;
                height: 100vh;
            }

            .col {
                width: 50%;
            }

            .align-items-center {
                display: flex;
                align-items: center;
                justify-content: center;
                text-align: center;
            }

            .form-wrapper {
                width: 100%;
                max-width: 28rem;
            }

            .form {
                padding: 1rem;
                background-color: var(--white);
                border-radius: 1.5rem;
                width: 100%;
                box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
                transform: scale(0);
                transition: 0.5s ease-in-out;
                transition-delay: 1s;
            }

            .input-group {
                position: relative;
                width: 100%;
                margin: 1rem 0;
            }

            /* .input-group i {
                position: absolute;
                top: 50%;
                left: 1rem;
                transform: translateY(-50%);
                font-size: 1.4rem;
                color: var(--gray-2);
            } */

            .input-group .icon-left {
                position: absolute;
                top: 50%;
                left: 1rem;
                transform: translateY(-50%);
                font-size: 1.4rem;
                color: var(--gray-2);
            }

           .input-group .icon-right {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                font-size: 1.3rem;
                color: var(--gray-2);
                cursor: pointer;
                opacity: 0;
                pointer-events: none;
                transition:
                    opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                    transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            /* FIX: keep clear icon position ALWAYS fixed */
            .input-group .clear-input {
                right: 1rem;
            }

            /* Eye icon always visible */
            .input-group .toggle-password {
                right: 2.6rem;
                opacity: 1;
                pointer-events: auto;
            }

            /* Clear icon only when input has value */
            .input-group.has-value .clear-input {
                opacity: 1;
                transform: translateY(-50%) scale(1);
                pointer-events: auto;
            }

            .input-group .icon-right:hover {
                color: var(--secondary-color);
            }

            .input-group input {
                width: 100%;
                padding: 1rem 2.5rem 1rem 3rem;
                font-size: 1rem;
                background-color: var(--gray);
                border-radius: 0.5rem;
                border: 0.125rem solid var(--white);
                outline: none;
            }

            /* Password fields need extra right padding for eye + clear */
            .input-group input[type="password"],
            .input-group input[type="text"].password-visible {
                padding: 1rem 4rem 1rem 3rem;
            }

            .input-group input:focus {
                border: 0.125rem solid var(--primary-color);
            }

            .phone-group input {
                padding-left: 4.5rem; /* space for flag + code */
            }

            .iti {
                width: 100%;
            }

            .iti__flag-container {
                left: 3rem;
            }

            .iti__selected-flag {
                padding-left: 8px;
            }

            .iti__country-list {
                font-family: "Poppins", sans-serif;
            }

            /* Validation states */
            .phone-valid input {
                border: 2px solid #28a745 !important;
            }

            .phone-invalid input {
                border: 2px solid #dc3545 !important;
            }

            .form button {
                cursor: pointer;
                width: 100%;
                padding: 0.6rem 0;
                border-radius: 0.5rem;
                border: none;
                background-color: var(--primary-color);
                color: var(--white);
                font-size: 1.2rem;
                outline: none;
            }

            .form p {
                margin: 1rem 0;
                font-size: 0.7rem;
            }

            .flex-col {
                flex-direction: column;
            }

            .social-list {
                margin: 2rem 0;
                padding: 1rem;
                border-radius: 1.5rem;
                width: 100%;
                box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
                transform: scale(0);
                transition: 0.5s ease-in-out;
                transition-delay: 1.2s;
            }

            .social-list > div {
                color: var(--white);
                margin: 0 0.5rem;
                padding: 0.7rem;
                cursor: pointer;
                border-radius: 0.5rem;
                cursor: pointer;
                transform: scale(0);
                transition: 0.5s ease-in-out;
            }

            .social-list > div:nth-child(1) {
                transition-delay: 1.4s;
            }

            .social-list > div:nth-child(2) {
                transition-delay: 1.6s;
            }

            .social-list > div:nth-child(3) {
                transition-delay: 1.8s;
            }

            .social-list > div:nth-child(4) {
                transition-delay: 2s;
            }

            .social-list > div > i {
                font-size: 1.5rem;
                transition: 0.4s ease-in-out;
            }

            .social-list > div:hover i {
                transform: scale(1.5);
            }

            .facebook-bg {
                background-color: var(--facebook-color);
            }

            .google-bg {
                background-color: var(--google-color);
            }

            .twitter-bg {
                background-color: var(--twitter-color);
            }

            .insta-bg {
                background-color: var(--insta-color);
            }

            .pointer {
                font-size: 12px;
                cursor: pointer;
                text-decoration: underline;
            }

            .container.sign-in .form.sign-in,
            .container.sign-in .social-list.sign-in,
            .container.sign-in .social-list.sign-in > div,
            .container.sign-up .form.sign-up,
            .container.sign-up .social-list.sign-up,
            .container.sign-up .social-list.sign-up > div {
                transform: scale(1);
            }

            .content-row {
                position: absolute;
                top: 0;
                left: 0;
                pointer-events: none;
                z-index: 6;
                width: 100%;
            }

            .text {
                margin: 4rem;
                color: var(--white);
            }

            .text h2 {
                font-size: 2.5rem;
                font-weight: 800;
                margin: 2rem 0;
                transition: 1s ease-in-out;
            }

            .text p {
                font-weight: 600;
                transition: 1s ease-in-out;
                transition-delay: 0.2s;
            }

            .img img {
                width: 30vw;
                transition: 1s ease-in-out;
                transition-delay: 0.4s;
            }

            .text.sign-in h2,
            .text.sign-in p,
            .img.sign-in img {
                transform: translateX(-250%);
            }

            .text.sign-up h2,
            .text.sign-up p,
            .img.sign-up img {
                transform: translateX(250%);
            }

            .container.sign-in .text.sign-in h2,
            .container.sign-in .text.sign-in p,
            .container.sign-in .img.sign-in img,
            .container.sign-up .text.sign-up h2,
            .container.sign-up .text.sign-up p,
            .container.sign-up .img.sign-up img {
                transform: translateX(0);
            }

            /* BACKGROUND */

            .container::before {
                content: "";
                position: absolute;
                top: 0;
                right: 0;
                height: 100vh;
                width: 300vw;
                transform: translate(35%, 0);
                background-image: linear-gradient(
                    -45deg,
                    var(--primary-color) 0%,
                    var(--secondary-color) 100%
                );
                transition: 1s ease-in-out;
                z-index: 6;
                box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
                border-bottom-right-radius: max(50vw, 50vh);
                border-top-left-radius: max(50vw, 50vh);
            }

            .container.sign-in::before {
                transform: translate(0, 0);
                right: 50%;
            }

            .container.sign-up::before {
                transform: translate(100%, 0);
                right: 50%;
            }

            span {
                font-size: 12px;
                display: block;
                margin-bottom: 0px;
                color: #000;
                letter-spacing: 0.5px;
            }

            /* RESPONSIVE */

            @media only screen and (max-width: 768px) {
            .container::before,
            .container.sign-in::before,
            .container.sign-up::before {
                height: 100vh;
                border-bottom-right-radius: 0;
                border-top-left-radius: 0;
                z-index: 0;
                transform: none;
                right: 0;
            }

            /* .container.sign-in .col.sign-up {
                    transform: translateY(100%);
                } */

            .container.sign-in .col.sign-in,
            .container.sign-up .col.sign-up {
                transform: translateY(0);
            }

            .content-row {
                align-items: flex-start !important;
            }

            .content-row .col {
                transform: translateY(0);
                background-color: unset;
            }

            .col {
                width: 100%;
                position: absolute;
                padding: 2rem;
                background-color: var(--white);
                border-top-left-radius: 2rem;
                border-top-right-radius: 2rem;
                transform: translateY(100%);
                transition: 1s ease-in-out;
            }

            .row {
                align-items: flex-end;
                justify-content: flex-end;
            }

            .form,
            .social-list {
                box-shadow: none;
                margin: 0;
                padding: 0;
            }

            .text {
                margin: 0;
            }

            .text p {
                display: none;
            }

            .text h2 {
                margin: 0.5rem;
                font-size: 1.5rem;
            }
        }
        #ftco-loader {
            position: fixed;
            width: 96px;
            height: 96px;
            left: 50%;
            top: 50%;
            -webkit-transform: translate(-50%, -50%);
            -ms-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.9);
            -webkit-box-shadow: 0px 24px 64px rgba(0, 0, 0, 0.24);
            box-shadow: 0px 24px 64px rgba(0, 0, 0, 0.24);
            border-radius: 16px;
            opacity: 0;
            visibility: hidden;
            -webkit-transition: opacity .2s ease-out, visibility 0s linear .2s;
            -o-transition: opacity .2s ease-out, visibility 0s linear .2s;
            transition: opacity .2s ease-out, visibility 0s linear .2s;
            z-index: 1000;
        }

        #ftco-loader.fullscreen {
            padding: 0;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            -webkit-transform: none;
            -ms-transform: none;
            transform: none;
            background-color: #fff;
            border-radius: 0;
            -webkit-box-shadow: none;
            box-shadow: none;
        }

        #ftco-loader.show {
            -webkit-transition: opacity .4s ease-out, visibility 0s linear 0s;
            -o-transition: opacity .4s ease-out, visibility 0s linear 0s;
            transition: opacity .4s ease-out, visibility 0s linear 0s;
            visibility: visible;
            opacity: 1;
        }

        #ftco-loader .circular {
            -webkit-animation: loader-rotate 2s linear infinite;
            animation: loader-rotate 2s linear infinite;
            position: absolute;
            left: calc(50% - 24px);
            top: calc(50% - 24px);
            display: block;
            -webkit-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            transform: rotate(0deg);
        }

        #ftco-loader .path {
            stroke-dasharray: 1, 200;
            stroke-dashoffset: 0;
            -webkit-animation: loader-dash 1.5s ease-in-out infinite;
            animation: loader-dash 1.5s ease-in-out infinite;
            stroke-linecap: round;
        }
        .input-group input[type="date"] {
            color: #000;
        }
        .gender-wrapper {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem; /* match input padding */
            background-color: var(--gray);
            border-radius: 0.5rem;
            display: flex;
            gap: 20px;
            align-items: center;
            border: 0.125rem solid var(--white);
        }

        .gender-wrapper label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            cursor: pointer;
            color: #000;
        }

        .gender-wrapper input[type="radio"] {
            accent-color: var(--primary-color);
        }
        .modal-error-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,.45);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        }
        .modal-error-box {
        background: #fff;
        padding: 24px;
        border-radius: 16px;
        width: 90%;
        max-width: 360px;
        text-align: center;
        }
        .modal-error-box h3 {
        color: #dc3545;
        margin-bottom: 10px;
        }
        .modal-error-box button {
        background: var(--primary-color);
        border: none;
        padding: 8px 24px;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 10px;
        }
        @-webkit-keyframes loader-rotate {
            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg); } }

            @keyframes loader-rotate {
            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg); } }

            @-webkit-keyframes loader-dash {
            0% {
                stroke-dasharray: 1, 200;
                stroke-dashoffset: 0; }
            50% {
                stroke-dasharray: 89, 200;
                stroke-dashoffset: -35px; }
            100% {
                stroke-dasharray: 89, 200;
                stroke-dashoffset: -136px; } }

            @keyframes loader-dash {
            0% {
                stroke-dasharray: 1, 200;
                stroke-dashoffset: 0; }
            50% {
                stroke-dasharray: 89, 200;
                stroke-dashoffset: -35px; }
            100% {
                stroke-dasharray: 89, 200;
                stroke-dashoffset: -136px; } }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.3.3/build/js/intlTelInput.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/libphonenumber-js@1.10.51/bundle/libphonenumber-max.js"></script>
</head>
<body>
    <div id="container" class="container">
		<!-- FORM SECTION -->
		<div class="row">
			<!-- SIGN UP -->
			<div class="col align-items-center flex-col sign-up">
				<div class="form-wrapper align-items-center">
					<form class="form sign-up" method="POST" action="signup.php">
						<div class="input-group">
							<i class='bx bxs-user icon-left'></i>
							<input aria-label="FullName" type="text" name="full_name" placeholder="Full Name" required>
                            <i class="bx bx-x icon-right clear-input"></i>
						</div>
                        <!-- <div class="input-group">
                            <i class='bx bx-user icon-left'></i>

                            <div class="gender-wrapper">
                                <label>
                                    <input type="radio" name="gender" value="Male" required>
                                    <span>Male</span>
                                </label>
                                <label>
                                    <input type="radio" name="gender" value="Female">
                                    <span>Female</span>
                                </label>
                                <label>
                                    <input type="radio" name="gender" value="Other">
                                    <span>Other</span>
                                </label>
                            </div>
                        </div>
                        <div class="input-group">
                            <i class='bx bx-calendar icon-left'></i>
                            <input aria-label="DateOfBirth" type="date" name="date_of_birth" required>
                            <i class="bx bx-x icon-right clear-input"></i>
                        </div> -->
                        <div class="input-group phone-group">
                            <i class='bx bx-phone icon-left'></i>
                            <!-- <input type="tel" id="mobile" inputmode="numeric" pattern="[0-9]*" placeholder="Mobile Number" style="padding-right: 35px;"> -->
                            <input aria-label="MobileNumber" type="tel" name="mobile_number" id="mobile" placeholder="Mobile Number" required>
                            <i class="bx bx-x icon-right clear-input"></i>
                        </div>
						<div class="input-group">
							<i class='bx bx-mail-send icon-left'></i>
							<input aria-label="Email" type="email" name="email" placeholder="Email" required>
                            <i class="bx bx-x icon-right clear-input"></i>
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt icon-left'></i>
							<input aria-label="Password" type="password" name="password" placeholder="Password" required>
                            <i class="bx bx-show icon-right toggle-password"></i>
                            <i class="bx bx-x icon-right clear-input"></i>
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt icon-left'></i>
							<input aria-label="ConfirmPassword" type="password" name="confirm_password" placeholder="Confirm Password" required>
                            <i class="bx bx-show icon-right toggle-password"></i>
                            <i class="bx bx-x icon-right clear-input"></i>
						</div>
						<button type="submit">
							Sign Up
						</button>
						<p>
							<span>
								Already have an account?
							</span>
							<b onclick="toggle()" class="pointer">
								Sign In
							</b>
						</p>
					</form>
				</div>
			
			</div>
            <div id="errorModal" style="display:none;">
            <div class="modal-error-overlay">
                <div class="modal-error-box">
                <h3 id="errorTitle">Error</h3>
                <p id="errorMessage"></p>
                <button onclick="closeErrorModal()">OK</button>
                </div>
            </div>
            </div>
			<!-- END SIGN UP -->
			<!-- SIGN IN -->
			<div class="col align-items-center flex-col sign-in">
				<div class="form-wrapper align-items-center">
					<form class="form sign-in" method="POST">
						<!-- <div class="input-group">
							<i class='bx bxs-user'></i>
							<input type="text" placeholder="Username">
						</div> -->
                        <div class="input-group">
							<i class='bx bx-mail-send icon-left'></i>
                            <input aria-label="Email" type="email" name="email" placeholder="Email" required>
                            <i class="bx bx-x icon-right clear-input"></i>
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt icon-left'></i>
							<input aria-label="Password" type="password" name="password" placeholder="Password" required>
                            <i class="bx bx-show icon-right toggle-password"></i>
                            <i class="bx bx-x icon-right clear-input"></i>
						</div>
						<button type="submit">
							Sign In
						</button>
						<!-- <p>
							<b>
								Forgot password?
							</b>
						</p> -->
						<p>
							<span>
								Don't have an account?
							</span>
							<b onclick="toggle()" class="pointer">
								Sign Up
							</b>
						</p>
					</form>
				</div>
				<div class="form-wrapper">
		
				</div>
			</div>
			<!-- END SIGN IN -->
		</div>
		<!-- END FORM SECTION -->
		<!-- CONTENT SECTION -->
		<div class="row content-row">
			<!-- SIGN IN CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="text sign-in">
					<h2>
						Welcome To EasyHire
					</h2>
	
				</div>
				<div class="img sign-in">
		
				</div>
			</div>
			<!-- END SIGN IN CONTENT -->
			<!-- SIGN UP CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="img sign-up">
				
				</div>
				<div class="text sign-up">
					<h2>
						Join with EasyHire
					</h2>
	
				</div>
			</div>
			<!-- END SIGN UP CONTENT -->
		</div>
		<!-- END CONTENT SECTION -->
	</div>
    <!-- loader -->
	<div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
			<circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
			<circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
				stroke="#F96D00" />
		</svg></div>

    <script src="js/jquery.min.js"></script>
	<script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script>
        const phoneInput = document.querySelector("#mobile");

        const iti = window.intlTelInput(phoneInput, {
            initialCountry: "in",
            nationalMode: false,
            autoHideDialCode: false,
            separateDialCode: true,
            formatOnDisplay: false
        });

        // Show / hide clear icon
        phoneInput.addEventListener("input", () => {
            const group = phoneInput.closest(".input-group");
            phoneInput.value.trim()
                ? group.classList.add("has-value")
                : group.classList.remove("has-value");

            validatePhone();
        });

        // Clear phone
        document.querySelector(".phone-group .clear-input").addEventListener("click", () => {
                phoneInput.value = "";
                iti.setNumber("");
                const group = phoneInput.closest(".input-group");
                group.classList.remove("has-value", "phone-valid", "phone-invalid");

                phoneInput.focus();
            });

        function validatePhone() {
            const group = phoneInput.closest(".input-group");
            const countryData = iti.getSelectedCountryData();

            const countryIso2 = countryData.iso2.toUpperCase();
            const dialCode = countryData.dialCode;

            const nationalNumber = phoneInput.value.replace(/\D/g, '');

            if (!nationalNumber) {
                group.classList.remove("phone-valid", "phone-invalid");
                return;
            }

            // ðŸ‘‡ CRITICAL FIX: pass NATIONAL number with country
            const parsed = libphonenumber.parsePhoneNumberFromString(
                nationalNumber,
                countryIso2
            );

            let isValid = false;

            if (parsed) {
                // must be VALID, not just possible
                if (parsed.isValid()) {
                    const type = parsed.getType();
                    isValid =
                        type === undefined ||
                        type === "MOBILE" ||
                        type === "FIXED_LINE_OR_MOBILE";
                }
            }

            group.classList.remove("phone-valid", "phone-invalid");
            group.classList.add(isValid ? "phone-valid" : "phone-invalid");

            // Matches your React output EXACTLY
            console.log({
                dialCode,
                number: nationalNumber,
                full: parsed ? parsed.format("E.164") : `+${dialCode}${nationalNumber}`,
                isValid,
                countryIso2
            });
        }

        phoneInput.addEventListener("keypress", (e) => {
            if (!/[0-9]/.test(e.key)) {
                e.preventDefault();
            }
        });

        phoneInput.addEventListener("paste", (e) => {
            e.preventDefault();
            const pasted = (e.clipboardData || window.clipboardData)
                .getData("text")
                .replace(/\D/g, '');

            phoneInput.value = pasted;
            phoneInput.dispatchEvent(new Event("input"));
        });

        phoneInput.addEventListener("input", () => {
            phoneInput.value = phoneInput.value.replace(/\D/g, '');
        });

        // Handle input value change (show/hide clear icon)
        document.querySelectorAll(".input-group input").forEach(input => {
            input.addEventListener("input", () => {
                const group = input.closest(".input-group");

                if (input.value.trim() !== "") {
                    group.classList.add("has-value");
                } else {
                    group.classList.remove("has-value");
                }
            });
        });

        document.querySelectorAll(".clear-input").forEach(icon => {
            icon.addEventListener("mousedown", e => {
                e.preventDefault(); // ðŸ‘ˆ prevents blur flicker
            });

            icon.addEventListener("click", () => {
                const group = icon.closest(".input-group");
                const input = group.querySelector("input");

                input.value = "";
                group.classList.remove("has-value");
                input.focus(); // ðŸ‘ˆ keeps cursor inside input
            });
        });

        // Toggle password visibility
        document.querySelectorAll(".toggle-password").forEach(icon => {
            icon.addEventListener("click", () => {
                const input = icon.closest(".input-group").querySelector("input");

                if (input.type === "password") {
                    input.type = "text";
                    input.classList.add("password-visible");
                    icon.classList.replace("bx-show", "bx-hide");
                } else {
                    input.type = "password";
                    input.classList.remove("password-visible");
                    icon.classList.replace("bx-hide", "bx-show");
                }
            });
        });

        let container = document.getElementById("container");

        toggle = () => {
            container.classList.toggle("sign-in");
            container.classList.toggle("sign-up");
        };

        setTimeout(() => {
            container.classList.remove("sign-up");
            container.classList.add("sign-in");
        }, 100);
        // loader
        var loader = function() {
            setTimeout(function() { 
                if($('#ftco-loader').length > 0) {
                    $('#ftco-loader').removeClass('show');
                }
            }, 1);
        };
        loader();
        const signupForm = document.querySelector(".form.sign-up");

        signupForm.addEventListener("submit", async (e) => {
            e.preventDefault();

            const formData = new FormData(signupForm);

            try {
                const res = await fetch("signup.php", {
                    method: "POST",
                    body: formData
                });

                const data = await res.json();

                if (!data.success) {
                    showErrorModal(data.message);
                    return;
                }

                // Success
                document.getElementById("errorTitle").innerText = "Success";
                showErrorModal("Signup successful! Please sign in.");

                // Switch to sign-in view after 1.5s
                setTimeout(() => {
                    closeErrorModal();
                    toggle(); // switch to Sign In panel
                }, 1500);

                signupForm.reset();

            } catch (err) {
                showErrorModal("Something went wrong. Please try again.");
            }
        });

        function showErrorModal(msg) {
            document.getElementById("errorMessage").innerText = msg;
            document.getElementById("errorModal").style.display = "block";
        }

        function closeErrorModal() {
            document.getElementById("errorModal").style.display = "none";
        }
    </script>
    <script>
        const loginForm = document.querySelector(".form.sign-in");

        loginForm.addEventListener("submit", async (e) => {
            e.preventDefault();

            const formData = new FormData(loginForm);

            try {
                const res = await fetch("login.php", {
                    method: "POST",
                    body: formData
                });

                const data = await res.json();

                if (!data.success) {
                    document.getElementById("errorTitle").innerText = "Login Failed";
                    showErrorModal(data.message);
                    return;
                }

                // âœ… SUCCESS
                document.getElementById("errorTitle").innerText = "Success";
                showErrorModal("Login successful! Redirecting...");

                setTimeout(() => {
                    window.location.href = "index.html";
                }, 1200);

            } catch (err) {
                document.getElementById("errorTitle").innerText = "Error";
                showErrorModal("Something went wrong. Please try again.");
            }
        });
    </script>
</body>
</html>